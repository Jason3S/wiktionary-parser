{"version":3,"file":"WikiAst.js","sourceRoot":"","sources":["WikiAst.ts"],"names":["WikiAst","WikiAst.AstEvalContext","WikiAst.AstEvalContext.constructor","WikiAst.AstEvalContext.eval","WikiAst.GenericNode","WikiAst.GenericNode.constructor","WikiAst.GenericNode.eval","WikiAst.GenericNode.getType","WikiAst.GenericLeaf","WikiAst.GenericLeaf.constructor","WikiAst.GenericLeaf.eval","WikiAst.GenericLeaf.getType","WikiAst.TransclusionNode","WikiAst.TransclusionNode.constructor","WikiAst.TransclusionNode.eval","WikiAst.TransclusionNode.getType","WikiAst.PageParamContext","WikiAst.PageParamContext.constructor","WikiAst.PageParamContext.normalizePageParam","WikiAst.PageParamContext.getPageParam","WikiAst.makeNodeMap","WikiAst.node","WikiAst.leaf","WikiAst.convertAst"],"mappings":"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A,CAACA,CAACA,CAACA;gBAClBA,MAAMA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;YAClBA,CAACA;YACDA,MAAMA,CAACA,GAAGA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA;QACxBA,CAACA;QAEMF,kCAAOA,GAAdA;YACIG,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA;QACrBA,CAACA;QACLH,uBAACA;IAADA,CAACA,AAtBDZ,IAsBCA;IAtBYA,wBAAgBA,mBAsB5BA,CAAAA;IAEDA;QAA+BgB,oCAAcA;QAEzCA,0BAAmBA,IAAkBA,EAASA,IAAeA;YACzDC,kBAAMA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;YADHA,SAAIA,GAAJA,IAAIA,CAAcA;YAASA,SAAIA,GAAJA,IAAIA,CAAWA;QAE7DA,CAACA;QAEaD,mCAAkBA,GAAhCA,UAAiCA,UAAUA;YACvCE,IAAIA,MAAMA,GAAGA,CAACA,SAASA,CAACA,CAACA;YACzBA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA;YAChDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,UAAUA,CAACA,CAACA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,UAAUA,CAACA,cAAcA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAC/BA,IAAIA,CAACA,GAAGA,EAAEA,GAAGA,UAAUA,CAACA,CAACA,CAACA,CAACA;oBAC3BA,IAAIA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,eAAeA,CAACA,CAACA;oBACjCA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBACJA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACxBA,CAACA;oBAACA,IAAIA,CAACA,CAACA;wBACJA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;oBACnBA,CAACA;gBACLA,CAACA;YACLA,CAACA;YAEDA,MAAMA,CAACA,MAAMA,CAACA;QAClBA,CAACA;QAEMF,uCAAYA,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"}